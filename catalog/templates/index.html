{% extends "base.html" %}
{% block content %}
    <h1 class="welcome">Welcome to FreeShelf, an educational resource for beginner developers!</h1>
    <p class="stock">The library has the following free books in stock:</p>

    <ul class="book-list-detail">
        {% for book in books %}
        <div class="book-list-styling">
            <li><img class="book-covers" src="{{ book.image_url }}"></li>
        </div>
        <details>
            <summary>Details</summary>
            <li class="book-title">{{ book.title }}</li>
            <li class="book-author">{{ book.author }}</li>
            <li class="book-summary">{{ book.summary }}</li>
        </details>
    
        {% if request.user.is_authenticated and book in favourites %}
        <a href="{% url 'favourite-book' book.pk %}?next={{ request.path }}">unfavourite</a>
        {% elif request.user.is_authenticated %}
        <a href="{% url 'favourite-book' book.pk %}?next={{ request.path }}">favourite</a>
        {% endif %}

        {% endfor %}
    </ul>
{% endblock %}
